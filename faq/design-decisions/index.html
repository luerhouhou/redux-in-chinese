<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-faq/design-decisions">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-66122997-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M7SNC3FDW9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-M7SNC3FDW9",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Redux 中文官网" href="/opensearch.xml"><title data-rh="true">Design Decisions | Redux 中文官网</title><meta data-rh="true" property="og:image" content="http://cn.redux.js.org/img/redux-logo-landscape.png"><meta data-rh="true" name="twitter:image" content="http://cn.redux.js.org/img/redux-logo-landscape.png"><meta data-rh="true" property="og:url" content="http://cn.redux.js.org/faq/design-decisions"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Design Decisions | Redux 中文官网"><meta data-rh="true" name="description" content="Table of Contents"><meta data-rh="true" property="og:description" content="Table of Contents"><link data-rh="true" rel="icon" href="/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="http://cn.redux.js.org/faq/design-decisions"><link data-rh="true" rel="alternate" href="http://cn.redux.js.org/faq/design-decisions" hreflang="en"><link data-rh="true" rel="alternate" href="http://cn.redux.js.org/faq/design-decisions" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.f2db9367.css">
<link rel="preload" href="/assets/js/runtime~main.dcee2be4.js" as="script">
<link rel="preload" href="/assets/js/main.7ecee670.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Redux 中文官网</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/introduction/getting-started">入门</a><a class="navbar__item navbar__link" href="/tutorials/essentials/part-1-overview-concepts">教程</a><a class="navbar__item navbar__link" href="/api/api-reference">API</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/faq">常见问题</a><a class="navbar__item navbar__link" href="/style-guide/style-guide">最佳实践</a><a href="https://www.github.com/nefe/redux-in-chinese" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">源码<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/nefe/redux-in-chinese/issues" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">纠错</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/introduction/getting-started">简介</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/tutorials/index">教程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/usage/">使用指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/understanding/thinking-in-redux/motivation">深入理解 Redux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/faq">常见问题</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq">FAQ 目录</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/general">General</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/reducers">Reducers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/organizing-state">Organizing State</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/store-setup">Store Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/actions">Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/immutable-data">Immutable Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/code-structure">Code Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/performance">Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/faq/design-decisions">Design Decisions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/react-redux">React Redux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/faq/miscellaneous">Miscellaneous</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/style-guide/">编码规范</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/api-reference">API 文档</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/redux-toolkit/overview">Redux Toolkit</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">常见问题</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Design Decisions</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Redux FAQ: Design Decisions</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a class="hash-link" href="#table-of-contents" title="Direct link to heading">​</a></h2><ul><li><a href="#why-doesnt-redux-pass-the-state-and-action-to-subscribers">Why doesn&#x27;t Redux pass the state and action to subscribers?</a></li><li><a href="#why-doesnt-redux-support-using-classes-for-actions-and-reducers">Why doesn&#x27;t Redux support using classes for actions and reducers?</a></li><li><a href="#why-does-the-middleware-signature-use-currying">Why does the middleware signature use currying?</a></li><li><a href="#why-does-applymiddleware-use-a-closure-for-dispatch">Why does applyMiddleware use a closure for dispatch?</a></li><li><a href="#why-doesnt-combinereducers-include-a-third-argument-with-the-entire-state-when-it-calls-each-reducer">Why doesn&#x27;t <code>combineReducers</code> include a third argument with the entire state when it calls each reducer?</a></li><li><a href="#why-doesnt-mapdispatchtoprops-allow-use-of-return-values-from-getstate-or-mapstatetoprops">Why doesn&#x27;t mapDispatchToProps allow use of return values from <code>getState()</code> or <code>mapStateToProps()</code>?</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="design-decisions">Design Decisions<a class="hash-link" href="#design-decisions" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-doesnt-redux-pass-the-state-and-action-to-subscribers">Why doesn&#x27;t Redux pass the state and action to subscribers?<a class="hash-link" href="#why-doesnt-redux-pass-the-state-and-action-to-subscribers" title="Direct link to heading">​</a></h3><p>Subscribers are intended to respond to the state value itself, not the action. Updates to the state are processed synchronously, but notifications to subscribers can be batched or debounced, meaning that subscribers are not always notified with every action. This is a common <a href="/faq/performance#performance-update-events">performance optimization</a> to avoid repeated re-rendering.</p><p>Batching or debouncing is possible by using enhancers to override <code>store.dispatch</code> to change the way that subscribers are notified. Also, there are libraries that change Redux to process actions in batches to optimize performance and avoid repeated re-rendering:</p><ul><li><a href="https://github.com/manaflair/redux-batch" target="_blank" rel="noopener noreferrer">redux-batch</a> allows passing an array of actions to <code>store.dispatch()</code> with only one notification,</li><li><a href="https://github.com/tappleby/redux-batched-subscribe" target="_blank" rel="noopener noreferrer">redux-batched-subscribe</a> allows batching of subscribe notifications that occur as a result of dispatches.</li></ul><p>The intended guarantee is that Redux eventually calls all subscribers with the most recent state available, but not that it always calls each subscriber for each action. The store state is available in the subscriber simply by calling <code>store.getState()</code>. The action cannot be made available in the subscribers without breaking the way that actions might be batched.</p><p>A potential use-case for using the action inside a subscriber -- which is an unsupported feature -- is to ensure that a component only re-renders after certain kinds of actions. Instead, re-rendering should be controlled through:</p><ol><li>the <a href="https://facebook.github.io/react/docs/react-component.html#shouldcomponentupdate" target="_blank" rel="noopener noreferrer">shouldComponentUpdate</a> lifecycle method</li><li>the <a href="https://facebook.github.io/react/docs/optimizing-performance.html#avoid-reconciliation" target="_blank" rel="noopener noreferrer">virtual DOM equality check (vDOMEq)</a></li><li><a href="https://facebook.github.io/react/docs/optimizing-performance.html#examples" target="_blank" rel="noopener noreferrer">React.PureComponent</a></li><li>Using React-Redux: use <a href="https://react-redux.js.org/api#connect" target="_blank" rel="noopener noreferrer">mapStateToProps</a> to subscribe components to only the parts of the store that they need.</li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="further-information">Further Information<a class="hash-link" href="#further-information" title="Direct link to heading">​</a></h4><p><strong>Articles</strong></p><ul><li><a href="/faq/performance#performance-update-events">How can I reduce the number of store update events?</a></li></ul><p><strong>Discussions</strong></p><ul><li><a href="https://github.com/reactjs/redux/issues/580" target="_blank" rel="noopener noreferrer">#580: Why doesn&#x27;t Redux pass the state to subscribers?</a></li><li><a href="https://github.com/reactjs/redux/pull/2214" target="_blank" rel="noopener noreferrer">#2214: Alternate Proof of Concept: Enhancer Overhaul -- more on debouncing</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-doesnt-redux-support-using-classes-for-actions-and-reducers">Why doesn&#x27;t Redux support using classes for actions and reducers?<a class="hash-link" href="#why-doesnt-redux-support-using-classes-for-actions-and-reducers" title="Direct link to heading">​</a></h3><p>The pattern of using functions, called action creators, to return action objects may seem counterintuitive to programmers with a lot of Object Oriented Programming experience, who would see this is a strong use-case for Classes and instances. Class instances for action objects and reducers are not supported because class instances make serialization and deserialization tricky. Deserialization methods like <code>JSON.parse(string)</code> will return a plain old Javascript object rather than class instances.</p><p>As described in the <a href="/faq/organizing-state#organizing-state-non-serializable">Store FAQ</a>, if you are okay with things like persistence and time-travel debugging not working as intended, you are welcome to put non-serializable items into your Redux store.</p><p>Serialization enables the browser to store all actions that have been dispatched, as well as the previous store states, with much less memory. Rewinding and &#x27;hot reloading&#x27; the store is central to the Redux developer experience and the function of Redux DevTools. This also enables deserialized actions to be stored on the server and re-serialized in the browser in the case of server-side rendering with Redux.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="further-information-1">Further Information<a class="hash-link" href="#further-information-1" title="Direct link to heading">​</a></h4><p><strong>Articles</strong></p><ul><li><a href="/faq/organizing-state#organizing-state-non-serializable">Can I put functions, promises, or other non-serializable items in my store state?</a></li></ul><p><strong>Discussions</strong></p><ul><li><a href="https://github.com/reactjs/redux/issues/1171#issuecomment-196819727" target="_blank" rel="noopener noreferrer">#1171: Why doesn&#x27;t Redux use classes for actions and reducers?</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-does-the-middleware-signature-use-currying">Why does the middleware signature use currying?<a class="hash-link" href="#why-does-the-middleware-signature-use-currying" title="Direct link to heading">​</a></h3><p>Redux middleware are written using a triply-nested function structure that looks like <code>const middleware = storeAPI =&gt; next =&gt; action =&gt; {}</code>, rather than a single function that looks like <code>const middleware = (storeAPI, next, action) =&gt; {}</code>. There&#x27;s a few reasons for this.</p><p>One is that &quot;currying&quot; functions is a standard functional programming technique, and Redux was explicitly intended to use functional programming principles in its design. Another is that currying functions creates closures where you can declare variables that exist for the lifetime of the middleware (which could be considered a functional equivalent to instance variables that exist for the lifetime of a class instance). Finally, it&#x27;s simply the approach that was chosen when Redux was initially designed.</p><p>The <a href="https://github.com/reactjs/redux/issues/1744" target="_blank" rel="noopener noreferrer">curried function signature</a> of declaring middleware is <a href="https://github.com/reactjs/redux/pull/784" target="_blank" rel="noopener noreferrer">deemed unnecessary</a> by some, because both store and next are available when the applyMiddleware function is executed. This issue has been determined to not be <a href="https://github.com/reactjs/redux/issues/1744" target="_blank" rel="noopener noreferrer">worth introducing breaking changes</a>, as there are now hundreds of middleware in the Redux ecosystem that rely on the existing middleware definition.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="further-information-2">Further Information<a class="hash-link" href="#further-information-2" title="Direct link to heading">​</a></h4><p><strong>Discussions</strong></p><ul><li>Why does the middleware signature use currying?<ul><li>Prior discussions: <a href="https://github.com/reactjs/redux/pull/55" target="_blank" rel="noopener noreferrer">#55</a>, <a href="https://github.com/reactjs/redux/issues/534" target="_blank" rel="noopener noreferrer">#534</a>, <a href="https://github.com/reactjs/redux/pull/784" target="_blank" rel="noopener noreferrer">#784</a>, <a href="https://github.com/reactjs/redux/issues/922" target="_blank" rel="noopener noreferrer">#922</a>, <a href="https://github.com/reactjs/redux/issues/1744" target="_blank" rel="noopener noreferrer">#1744</a></li><li><a href="https://blog.isquaredsoftware.com/2017/09/presentation-might-need-redux-ecosystem/" target="_blank" rel="noopener noreferrer">React Boston 2017: You Might Need Redux (And Its Ecosystem)</a></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-does-applymiddleware-use-a-closure-for-dispatch">Why does <code>applyMiddleware</code> use a closure for <code>dispatch</code>?<a class="hash-link" href="#why-does-applymiddleware-use-a-closure-for-dispatch" title="Direct link to heading">​</a></h3><p><code>applyMiddleware</code> takes the existing dispatch from the store and closes over it to create the initial chain of middlewares that have been invoked with an object that exposes the getState and dispatch functions, which enables middlewares that <a href="https://github.com/reactjs/redux/pull/1592" target="_blank" rel="noopener noreferrer">rely on dispatch during initialization</a> to run.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="further-information-3">Further Information<a class="hash-link" href="#further-information-3" title="Direct link to heading">​</a></h4><p><strong>Discussions</strong></p><ul><li>Why does applyMiddleware use a closure for dispatch?<ul><li>See - <a href="https://github.com/reactjs/redux/pull/1592" target="_blank" rel="noopener noreferrer">#1592</a> and <a href="https://github.com/reactjs/redux/issues/2097" target="_blank" rel="noopener noreferrer">#2097</a></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-doesnt-combinereducers-include-a-third-argument-with-the-entire-state-when-it-calls-each-reducer">Why doesn&#x27;t <code>combineReducers</code> include a third argument with the entire state when it calls each reducer?<a class="hash-link" href="#why-doesnt-combinereducers-include-a-third-argument-with-the-entire-state-when-it-calls-each-reducer" title="Direct link to heading">​</a></h3><p><code>combineReducers</code> is opinionated to encourage splitting reducer logic by domain. As stated in <a href="/recipes/structuring-reducers/beyond-combinereducers">Beyond <code>combineReducers</code></a>,<code>combineReducers</code> is deliberately limited to handle a single common use case: updating a state tree that is a plain Javascript object by delegating the work of updating each slice of state to a specific slice reducer.</p><p>It&#x27;s not immediately obvious what a potential third argument to each reducer should be: the entire state tree, some callback function, some other part of the state tree, etc. If <code>combineReducers</code> doesn&#x27;t fit your use case, consider using libraries like <a href="https://github.com/ryo33/combine-section-reducers" target="_blank" rel="noopener noreferrer">combineSectionReducers</a> or <a href="https://github.com/acdlite/reduce-reducers" target="_blank" rel="noopener noreferrer">reduceReducers</a> for other options with deeply nested reducers and reducers that require access to the global state.</p><p>If none of the published utilities solve your use case, you can always write a function yourself that does just exactly what you need.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="further-information-4">Further information<a class="hash-link" href="#further-information-4" title="Direct link to heading">​</a></h4><p><strong>Articles</strong></p><ul><li><a href="/recipes/structuring-reducers/beyond-combinereducers">Beyond <code>combineReducers</code></a></li></ul><p><strong>Discussions</strong></p><ul><li><a href="https://github.com/reactjs/redux/pull/1768" target="_blank" rel="noopener noreferrer">#1768 Allow reducers to consult global state</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-doesnt-mapdispatchtoprops-allow-use-of-return-values-from-getstate-or-mapstatetoprops">Why doesn&#x27;t <code>mapDispatchToProps</code> allow use of return values from <code>getState()</code> or <code>mapStateToProps()</code>?<a class="hash-link" href="#why-doesnt-mapdispatchtoprops-allow-use-of-return-values-from-getstate-or-mapstatetoprops" title="Direct link to heading">​</a></h3><p>There have been requests to use either the entire <code>state</code> or the return value of <code>mapState</code> inside of <code>mapDispatch</code>, so that when functions are declared inside of <code>mapDispatch</code>, they can close over the latest returned values from the store.</p><p>This approach is not supported in <code>mapDispatch</code> because it would mean also calling <code>mapDispatch</code> every time the store is updated. This would cause the re-creation of functions with every state update, thus adding a lot of performance overhead.</p><p>The preferred way to handle this use-case--needing to alter props based on the current state and mapDispatchToProps functions--is to work from mergeProps, the third argument to the connect function. If specified, it is passed the result of <code>mapStateToProps()</code>, <code>mapDispatchToProps()</code>, and the container component&#x27;s props. The plain object returned from <code>mergeProps</code> will be passed as props to the wrapped component.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="further-information-5">Further information<a class="hash-link" href="#further-information-5" title="Direct link to heading">​</a></h4><p><strong>Discussions</strong></p><ul><li><a href="https://github.com/reactjs/react-redux/issues/237" target="_blank" rel="noopener noreferrer">#237 Why doesn&#x27;t mapDispatchToProps allow use of return values from getState() or mapStateToProps()?</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/faq/performance"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Performance</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/faq/react-redux"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">React Redux</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#design-decisions" class="table-of-contents__link toc-highlight">Design Decisions</a><ul><li><a href="#why-doesnt-redux-pass-the-state-and-action-to-subscribers" class="table-of-contents__link toc-highlight">Why doesn&#39;t Redux pass the state and action to subscribers?</a></li><li><a href="#why-doesnt-redux-support-using-classes-for-actions-and-reducers" class="table-of-contents__link toc-highlight">Why doesn&#39;t Redux support using classes for actions and reducers?</a></li><li><a href="#why-does-the-middleware-signature-use-currying" class="table-of-contents__link toc-highlight">Why does the middleware signature use currying?</a></li><li><a href="#why-does-applymiddleware-use-a-closure-for-dispatch" class="table-of-contents__link toc-highlight">Why does <code>applyMiddleware</code> use a closure for <code>dispatch</code>?</a></li><li><a href="#why-doesnt-combinereducers-include-a-third-argument-with-the-entire-state-when-it-calls-each-reducer" class="table-of-contents__link toc-highlight">Why doesn&#39;t <code>combineReducers</code> include a third argument with the entire state when it calls each reducer?</a></li><li><a href="#why-doesnt-mapdispatchtoprops-allow-use-of-return-values-from-getstate-or-mapstatetoprops" class="table-of-contents__link toc-highlight">Why doesn&#39;t <code>mapDispatchToProps</code> allow use of return values from <code>getState()</code> or <code>mapStateToProps()</code>?</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/introduction/getting-started">入门</a></li><li class="footer__item"><a class="footer__link-item" href="/tutorials/essentials/part-1-overview-concepts">教程</a></li><li class="footer__item"><a class="footer__link-item" href="/faq">常见问题</a></li><li class="footer__item"><a class="footer__link-item" href="/api/api-reference">API 文档</a></li></ul></div><div class="col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/0ZcbPKXt5bZ6au5t" target="_blank" rel="noopener noreferrer" class="footer__link-item">Reactiflux Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="http://stackoverflow.com/questions/tagged/redux" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/introduction/getting-started#help-and-discussion">Feedback</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/nefe/redux-in-chinese" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
                <a href="https://www.netlify.com">
                  <img src="https://www.netlify.com/img/global/badges/netlify-color-accent.svg" alt="Deploys by Netlify">
                </a>
              </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://redux.js.org/" target="_blank" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/img/redux.svg" alt="Redux Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2015–2022 Dan Abramov and Cam Song.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.dcee2be4.js"></script>
<script src="/assets/js/main.7ecee670.js"></script>
</body>
</html>